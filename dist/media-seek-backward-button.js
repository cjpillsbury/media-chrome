import d from"./media-chrome-button.js";import{defineCustomElement as f}from"./utils/defineCustomElement.js";import{Window as m,Document as b}from"./utils/server-safe-globals.js";import{MediaUIEvents as E,MediaUIAttributes as r}from"./constants.js";import{verbs as h}from"./labels/labels.js";import{getSlotted as k,updateIconText as p}from"./utils/element-utils.js";const o=30,A=`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="-3 -3 24 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(1.68 17.6)">${o}</text><path d="M9.48,3V0L3.87,4l5.61,4V5a5.54,5.54,0,0,1,1.92,10.5V17.6A7.5,7.5,0,0,0,9.48,3Z"/></svg>`,i=b.createElement("template");i.innerHTML=`  
  <slot name="backward">${A}</slot>
`;const v=0,w=s=>{const t=Math.abs(o),e=h.SEEK_BACK_N_SECS({seekOffset:t});s.setAttribute("aria-label",e)},n=s=>{const t=k(s,"backward"),e=s.getAttribute("seek-offset");p(t,e)};class l extends d{static get observedAttributes(){return[...super.observedAttributes,r.MEDIA_CURRENT_TIME]}constructor(t={}){super({slotTemplate:i,...t})}connectedCallback(){this.hasAttribute("seek-offset")||this.setAttribute("seek-offset",o),w(this),n(this),super.connectedCallback()}attributeChangedCallback(t,e,a){t==="seek-offset"&&(a==null&&this.setAttribute("seek-offset",o),n(this))}handleClick(){const t=this.getAttribute(r.MEDIA_CURRENT_TIME),e=+this.getAttribute("seek-offset"),a=t&&!Number.isNaN(+t)?+t:v,c=Math.max(a-e,0),u=new m.CustomEvent(E.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:c});this.dispatchEvent(u)}}f("media-seek-backward-button",l);export default l;
